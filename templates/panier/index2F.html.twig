

{% extends 'baseFront.html.twig ' %}

{% block titre %}
    Mon Panier
{% endblock %}

{% block section%}
{% endblock %}
{% block corp%}
    <h1>Panier index</h1>

{% for message in app.flashes('info')  %}
    <div
        class="alert alert.success">
        {{ message }}
    </div>
{% endfor %}
    <table class="table">
        <thead>
        <tr>

            <th>IdProduit</th>
            <th>QuantitePanier</th>

            <th >Prix Produit</th>

            <th> total avant code</th>




            <th>actions</th>
        </tr>
        </thead>
        <style>

            .total-amount{
                font-size: 20px;
                font-family: ‘Open Sans’;
                font-weight: 700;
                color: #9B7536;
                padding-left:1000px;
            }

        </style>
        <tbody>
        {%set totalP=0 %}
        {%set totalC=0 %}

        {% for produit in produits %}
        {% for panier in paniers %}
        {% if panier.idproduit  == produit %}
        <tr>
            <td>{{ produit.idproduit }}</td>

            <td>{{ panier.quantitePanier }}</td>
            <td>{{ produit.prix_produit }}</td>

            <td>{{ produit.prix_produit *                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       panier.quantitePanier }}</td>

            {% set  totalP=  totalP + produit.prix_produit * panier.quantitePanier   %}


<td>

            <a href="{{path("cart_add",{'idUtulisateur':1,'idproduit':panier.idproduit.idproduit})}}"
               class="btn btn-success"> ajouter quantité
                <i class="bi bi-cart-plus"></i>
                </a>
    <a href="{{path("cart_delete",{'idUtulisateur':1,'idproduit':panier.idproduit.idproduit})}}"
           class="btn  btn-warning"> supprimer  quantité
        <i class="bi bi-cart-plus"></i>
    </a>

    <a href="{{path("deleteP",{'idUtulisateur':1,'idPanier': panier.idPanier})}}"
       class="btn  btn-danger"> supprimer  produit
        <i class="bi bi-cart-plus"></i>
    </a>




</td>
        </tr>


        {% endif %}
        {% endfor %}
        {% endfor %}

        </tbody>
    </table>
    <div  class = "total-amount" >total Avant reduction={{ totalP }}dt</div >
   <input>
       <input></input>
    </form>

    <div  class = "total-amount" >total Apres reduction={{ totalC }}dt</div >


    <a href="{{ path('app_commande_new') }}">Passer Votre commande</a>
    <div>

    </div>
    <a href="{{ path('app_panier_new') }}">Ajouter Un autre produit</a>
    <div>
    </div>
    <a href="{{ path('app_panier_vider_panier', {'idUtulisateur':1}) }}">viderpanier
       </a>
    <a href="{{ path('app_commande_pdfFrontFacture') }}">pdf</a>
{%endblock%}



